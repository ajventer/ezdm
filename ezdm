#!/usr/bin/env python
from ezdm_libs.util import smart_input,highlight,gui_mode
import os
import sys


if __name__=='__main__': 
    PATH=os.path.dirname(sys.argv[0])

    actionlist={'View a character sheet':'ezdm-viewchar','Create a new character sheet':'ezdm-mkcs','Combat !':'ezdm-quick_combat','Grant XP to character':'ezdm-xp_tool','Roll dice':'ezdm-dice_roller'}

    action=''
    while not action.lower() =='quit':
        highlight('Welcome to the EZDM console V1.0')
        actions=sorted(actionlist.keys())
        actions.append('Quit')
        action=smart_input('Please select an activity',validentries=actions)
        if action.lower() <> 'quit':           
            command=actionlist[action]
            if not gui_mode():
                command="%s --console" %command
            print "Running %s" %command
            os.system(os.path.join(PATH,command))
            if not gui_mode():
                raw_input()
